{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    lucide.createIcons();\n    gsap.registerPlugin(ScrollTrigger);\n\n    // --- HEADER SCROLL ---\n    const header = document.getElementById('header');\n    window.addEventListener('scroll', () => {\n        header.classList.toggle('header--scrolled', window.scrollY > 50);\n    });\n\n    // --- HERO ANIMATION (GSAP + SplitType) ---\n    const initHeroAnimation = () => {\n        // Разбиваем текст на слова и буквы\n        const splitTitle = new SplitType('.hero__title', { types: 'words, chars' });\n        const splitSubtitle = new SplitType('.hero__subtitle', { types: 'words' });\n\n        const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });\n\n        tl.fromTo('.hero__label-wrapper', \n            { opacity: 0, y: -20 }, \n            { opacity: 1, y: 0, duration: 0.8, delay: 0.3 }\n        )\n        .to('.hero__title', { opacity: 1, duration: 0.1 }, '-=0.5') // Делаем видимым перед анимацией букв\n        .from(splitTitle.chars, {\n            opacity: 0,\n            y: 50,\n            rotateX: -90,\n            stagger: 0.02,\n            duration: 1\n        }, '-=0.6')\n        .to('.hero__subtitle', { opacity: 1, duration: 0.1 }, '-=0.8')\n        .from(splitSubtitle.words, {\n            opacity: 0,\n            y: 20,\n            stagger: 0.05,\n            duration: 0.8\n        }, '-=0.8')\n        .to('.hero__actions', {\n            opacity: 1,\n            y: 0,\n            duration: 0.8,\n            clearProps: 'all' // Очищаем свойства после анимации для ховеров\n        }, '-=0.6');\n    };\n\n    initHeroAnimation();\n\n    // --- HERO INTERACTIVE CANVAS BACKGROUND ---\n    const initHeroCanvas = () => {\n        const canvas = document.getElementById('heroCanvas');\n        const ctx = canvas.getContext('2d');\n        let width, height;\n        let particles = [];\n        let mouse = { x: null, y: null, radius: 150 };\n\n        // Настройка цветов из CSS переменных\n        const accentColorHex = getComputedStyle(document.documentElement).getPropertyValue('--color-accent').trim();\n        const swampColorHex = getComputedStyle(document.documentElement).getPropertyValue('--color-swamp').trim();\n\n        // Конфигурация частиц\n        const config = {\n            particleCount: window.innerWidth < 768 ? 50 : 100, // Меньше частиц на мобилках\n            lineDistance: 120,\n            particleSpeed: 0.3,\n            mouseRepelForce: 2\n        };\n\n        function resize() {\n            width = canvas.width = window.innerWidth;\n            height = canvas.height = window.innerHeight;\n            initParticles();\n        }\n\n        class Particle {\n            constructor(x, y) {\n                this.x = x ? x : Math.random() * width;\n                this.y = y ? y : Math.random() * height;\n                this.size = Math.random() * 2 + 1;\n                this.baseX = this.x;\n                this.baseY = this.y;\n                this.density = (Math.random() * 10) + 5;\n                this.color = Math.random() > 0.8 ? accentColorHex : swampColorHex;\n                this.speedX = Math.random() * config.particleSpeed - config.particleSpeed/2;\n                this.speedY = Math.random() * config.particleSpeed - config.particleSpeed/2;\n            }\n\n            update() {\n                // Базовое движение\n                this.x += this.speedX;\n                this.y += this.speedY;\n\n                // Отталкивание от краев\n                if (this.x > width || this.x < 0) this.speedX = -this.speedX;\n                if (this.y > height || this.y < 0) this.speedY = -this.speedY;\n\n                // Взаимодействие с мышью\n                if (mouse.x) {\n                    let dx = mouse.x - this.x;\n                    let dy = mouse.y - this.y;\n                    let distance = Math.sqrt(dx * dx + dy * dy);\n                    if (distance < mouse.radius) {\n                        let forceDirectionX = dx / distance;\n                        let forceDirectionY = dy / distance;\n                        let force = (mouse.radius - distance) / mouse.radius;\n                        let directionX = forceDirectionX * force * this.density * config.mouseRepelForce;\n                        let directionY = forceDirectionY * force * this.density * config.mouseRepelForce;\n                        this.x -= directionX;\n                        this.y -= directionY;\n                    } else {\n                        // Возврат к базовой траектории, если мышь далеко\n                        if (this.x !== this.baseX) {\n                            let dx = this.x - this.baseX;\n                            this.x -= dx / 20;\n                        }\n                         if (this.y !== this.baseY) {\n                            let dy = this.y - this.baseY;\n                            this.y -= dy / 20;\n                        }\n                    }\n                }\n            }\n\n            draw() {\n                ctx.fillStyle = this.color;\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n                ctx.closePath();\n                ctx.fill();\n            }\n        }\n\n        function initParticles() {\n            particles = [];\n            for (let i = 0; i < config.particleCount; i++) {\n                particles.push(new Particle());\n            }\n        }\n\n        function connect() {\n            for (let a = 0; a < particles.length; a++) {\n                for (let b = a; b < particles.length; b++) {\n                    let distance = ((particles[a].x - particles[b].x) * (particles[a].x - particles[b].x)) +\n                                   ((particles[a].y - particles[b].y) * (particles[a].y - particles[b].y));\n                    if (distance < (config.lineDistance * config.lineDistance)) {\n                        let opacityValue = 1 - (distance / (config.lineDistance * config.lineDistance));\n                        ctx.strokeStyle = `rgba(184, 255, 82, ${opacityValue * 0.2})`; // Лаймовые связи\n                        ctx.lineWidth = 1;\n                        ctx.beginPath();\n                        ctx.moveTo(particles[a].x, particles[a].y);\n                        ctx.lineTo(particles[b].x, particles[b].y);\n                        ctx.stroke();\n                    }\n                }\n            }\n        }\n\n        function animate() {\n            ctx.clearRect(0, 0, width, height);\n            for (let i = 0; i < particles.length; i++) {\n                particles[i].update();\n                particles[i].draw();\n            }\n            connect();\n            requestAnimationFrame(animate);\n        }\n\n        window.addEventListener('resize', resize);\n        window.addEventListener('mousemove', (e) => {\n            mouse.x = e.x;\n            mouse.y = e.y;\n        });\n        window.addEventListener('mouseout', () => {\n            mouse.x = null;\n            mouse.y = null;\n        });\n\n        resize();\n        animate();\n    };\n\n    initHeroCanvas();\n    // --- SCROLL REVEAL ANIMATION (GSAP) ---\n    const initScrollReveal = () => {\n        const reveals = document.querySelectorAll('.js-reveal');\n        \n        reveals.forEach((el) => {\n            gsap.to(el, {\n                scrollTrigger: {\n                    trigger: el,\n                    start: \"top 85%\", // Анимация начнется, когда верх элемента дойдет до 85% экрана\n                    toggleActions: \"play none none none\"\n                },\n                opacity: 1,\n                y: 0,\n                duration: 1,\n                ease: \"power3.out\"\n            });\n        });\n    };\n\n    initScrollReveal();\n    // Добавь это условие или обнови существующую логику\ngsap.from('.benefits-grid .js-reveal', {\n    scrollTrigger: {\n        trigger: '.benefits-grid',\n        start: \"top 80%\",\n    },\n    opacity: 0,\n    y: 40,\n    stagger: 0.15, // Поочередное появление карточек\n    duration: 1,\n    ease: \"power3.out\"\n});\n    // --- INNOVATIONS ANIMATION ---\n    const initInnovations = () => {\n        const items = document.querySelectorAll('.js-innovation-item');\n        \n        items.forEach((item) => {\n            gsap.from(item, {\n                scrollTrigger: {\n                    trigger: item,\n                    start: \"top 90%\",\n                    end: \"top 20%\",\n                    scrub: 1, // Привязка к движению колесика\n                },\n                opacity: 0,\n                x: 50,\n                duration: 1\n            });\n        });\n    };\n\n    initInnovations();\n    // --- BLOG SLIDER (Swiper) ---\n    const initBlogSlider = () => {\n        const swiper = new Swiper('.blog-slider', {\n            slidesPerView: 1,\n            spaceBetween: 20,\n            loop: true,\n            grabCursor: true,\n            navigation: {\n                nextEl: '.blog__btn--next',\n                prevEl: '.blog__btn--prev',\n            },\n            pagination: {\n                el: '.swiper-pagination',\n                clickable: true,\n                dynamicBullets: true,\n            },\n            breakpoints: {\n                640: {\n                    slidesPerView: 2,\n                    spaceBetween: 30,\n                },\n                1024: {\n                    slidesPerView: 3,\n                    spaceBetween: 30,\n                },\n            }\n        });\n    };\n\n    initBlogSlider();\n});"],"names":["header","splitTitle","splitSubtitle","canvas","ctx","width","height","particles","mouse","accentColorHex","swampColorHex","config","resize","initParticles","Particle","x","y","dx","dy","distance","forceDirectionX","forceDirectionY","force","directionX","directionY","i","connect","a","b","opacityValue","animate","el","item"],"mappings":"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"}