{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // 1. Инициализация иконок и плагинов\n    lucide.createIcons();\n    gsap.registerPlugin(ScrollTrigger);\n\n    // --- ГЛОБАЛЬНЫЕ КОНСТАНТЫ ---\n    const header = document.getElementById('header');\n    const burger = document.getElementById('burger');\n    const nav = document.getElementById('nav');\n    const navLinks = document.querySelectorAll('.nav__link');\n\n    // --- МОБИЛЬНОЕ МЕНЮ ---\n    const toggleMenu = () => {\n        burger.classList.toggle('burger--active');\n        nav.classList.toggle('active');\n        document.body.classList.toggle('no-scroll'); // Чтобы не скроллился контент под меню\n    };\n\n    burger.addEventListener('click', toggleMenu);\n    navLinks.forEach(link => link.addEventListener('click', toggleMenu));\n\n    // --- СКРОЛЛ ХЕДЕРА ---\n    window.addEventListener('scroll', () => {\n        header.classList.toggle('header--scrolled', window.scrollY > 50);\n    });\n\n    // --- HERO CANVAS (Интерактивный фон) ---\n    const initHeroCanvas = () => {\n        const canvas = document.getElementById('heroCanvas');\n        if (!canvas) return;\n        const ctx = canvas.getContext('2d');\n        let width, height, particles = [];\n        const mouse = { x: null, y: null, radius: 150 };\n\n        const resize = () => {\n            width = canvas.width = window.innerWidth;\n            height = canvas.height = window.innerHeight;\n            particles = Array.from({ length: width < 768 ? 40 : 100 }, () => new Particle());\n        };\n\n        class Particle {\n            constructor() {\n                this.x = Math.random() * width;\n                this.y = Math.random() * height;\n                this.size = Math.random() * 2 + 1;\n                this.speedX = Math.random() * 0.5 - 0.25;\n                this.speedY = Math.random() * 0.5 - 0.25;\n            }\n            update() {\n                this.x += this.speedX; this.y += this.speedY;\n                if (this.x > width || this.x < 0) this.speedX *= -1;\n                if (this.y > height || this.y < 0) this.speedY *= -1;\n                if (mouse.x) {\n                    let dx = mouse.x - this.x, dy = mouse.y - this.y;\n                    let dist = Math.sqrt(dx * dx + dy * dy);\n                    if (dist < mouse.radius) {\n                        this.x -= dx / 20; this.y -= dy / 20;\n                    }\n                }\n            }\n            draw() {\n                ctx.fillStyle = '#B8FF52'; ctx.beginPath();\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();\n            }\n        }\n\n        const animate = () => {\n            ctx.clearRect(0, 0, width, height);\n            particles.forEach(p => { p.update(); p.draw(); });\n            requestAnimationFrame(animate);\n        };\n\n        window.addEventListener('resize', resize);\n        window.addEventListener('mousemove', e => { mouse.x = e.x; mouse.y = e.y; });\n        resize(); animate();\n    };\n    initHeroCanvas();\n\n    // --- GSAP ANIMATIONS (Hero, Reveal, Innovations) ---\n    const initAnimations = () => {\n        // Hero\n        const splitTitle = new SplitType('.hero__title', { types: 'words, chars' });\n        const tl = gsap.timeline();\n        tl.from('.hero__label-wrapper', { opacity: 0, y: -20, duration: 1 })\n          .from(splitTitle.chars, { opacity: 0, y: 30, stagger: 0.02, duration: 0.8 }, \"-=0.5\")\n          .from('.hero__subtitle', { opacity: 0, y: 20, duration: 0.8 }, \"-=0.5\")\n          .from('.hero__actions', { opacity: 0, y: 20, duration: 0.8 }, \"-=0.5\");\n\n        // General Reveal\n        gsap.utils.toArray('.js-reveal').forEach(el => {\n            gsap.to(el, {\n                scrollTrigger: { trigger: el, start: \"top 85%\" },\n                opacity: 1, y: 0, duration: 1, ease: \"power3.out\"\n            });\n        });\n\n        // Innovations Scrub\n        gsap.utils.toArray('.js-innovation-item').forEach(item => {\n            gsap.from(item, {\n                scrollTrigger: { trigger: item, start: \"top 90%\", scrub: 1 },\n                opacity: 0, x: 50\n            });\n        });\n    };\n    initAnimations();\n\n    // --- SWIPER SLIDER ---\n    if (document.querySelector('.blog-slider')) {\n        new Swiper('.blog-slider', {\n            slidesPerView: 1, spaceBetween: 30, loop: true,\n            navigation: { nextEl: '.blog__btn--next', prevEl: '.blog__btn--prev' },\n            pagination: { el: '.swiper-pagination', clickable: true },\n            breakpoints: { 768: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } }\n        });\n    }\n\n    // --- CONTACT FORM & CAPTCHA ---\n    const contactForm = document.getElementById('contactForm');\n    if (contactForm) {\n        let n1 = Math.floor(Math.random() * 10), n2 = Math.floor(Math.random() * 10);\n        const captchaLabel = document.getElementById('captchaQuestion');\n        if (captchaLabel) captchaLabel.textContent = `${n1} + ${n2}`;\n\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            const ans = document.getElementById('captchaInput').value;\n            if (parseInt(ans) !== (n1 + n2)) {\n                alert('Капча введена неверно!'); return;\n            }\n            document.getElementById('contactSuccess').classList.add('active');\n        });\n\n        document.getElementById('closeSuccess')?.addEventListener('click', () => {\n            document.getElementById('contactSuccess').classList.remove('active');\n            contactForm.reset();\n        });\n    }\n\n    // --- COOKIE POPUP ---\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookies');\n\n    if (!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => cookiePopup.classList.add('active'), 2000);\n    }\n\n    acceptBtn.addEventListener('click', () => {\n        localStorage.setItem('cookiesAccepted', 'true');\n        cookiePopup.classList.remove('active');\n    });\n});"],"names":["header","burger","nav","navLinks","toggleMenu","link","canvas","ctx","width","height","particles","mouse","resize","Particle","dx","dy","animate","p","e","splitTitle","el","item","contactForm","n1","n2","captchaLabel","ans","_a","cookiePopup","acceptBtn"],"mappings":"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"}