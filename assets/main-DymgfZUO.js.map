{"version":3,"file":"main-DymgfZUO.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // 1. Инициализация иконок Lucide\n    lucide.createIcons();\n\n    // 2. Регистрация плагинов GSAP\n    gsap.registerPlugin(ScrollTrigger);\n\n    // --- ГЛОБАЛЬНЫЕ ЭЛЕМЕНТЫ ---\n    const header = document.getElementById('header');\n    const burger = document.getElementById('burger');\n    const nav = document.getElementById('nav');\n    const navLinks = document.querySelectorAll('.nav__link');\n\n    // --- 1. МОБИЛЬНОЕ МЕНЮ ---\n    const toggleMenu = () => {\n        burger.classList.toggle('burger--active');\n        nav.classList.toggle('active');\n        document.body.classList.toggle('no-scroll');\n    };\n\n    if (burger) {\n        burger.addEventListener('click', toggleMenu);\n    }\n\n    navLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if (nav.classList.contains('active')) toggleMenu();\n        });\n    });\n\n    // --- 2. ЭФФЕКТ ХЕДЕРА ПРИ СКРОЛЛЕ ---\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            header.classList.add('header--scrolled');\n        } else {\n            header.classList.remove('header--scrolled');\n        }\n    });\n\n    // --- 3. HERO ANIMATION (GSAP + SplitType) ---\n    // Исправлено: слова не разрываются, анимация ждет загрузки шрифтов\n    const initHeroAnimation = () => {\n        const title = document.querySelector('.js-split-text');\n        if (!title) return;\n\n        document.fonts.ready.then(() => {\n            // Разбиваем текст так, чтобы слова (words) были обертками для символов (chars)\n            const splitTitle = new SplitType('.hero__title', { \n                types: 'words, chars',\n                wordClass: 'word' \n            });\n            const splitSubtitle = new SplitType('.hero__subtitle', { \n                types: 'words',\n                wordClass: 'word'\n            });\n\n            const tl = gsap.timeline({ defaults: { ease: 'power4.out' } });\n\n            tl.fromTo('.hero__label-wrapper', \n                { opacity: 0, y: -20 }, \n                { opacity: 1, y: 0, duration: 0.8, delay: 0.3 }\n            )\n            .set(['.hero__title', '.hero__subtitle'], { opacity: 1 }) // Проявляем скрытые в CSS блоки\n            .from(splitTitle.chars, {\n                opacity: 0,\n                y: 40,\n                rotateX: -90,\n                stagger: 0.02,\n                duration: 1\n            }, '-=0.5')\n            .from(splitSubtitle.words, {\n                opacity: 0,\n                y: 20,\n                stagger: 0.03,\n                duration: 0.8\n            }, '-=0.8')\n            .fromTo('.hero__actions', \n                { opacity: 0, y: 30 }, \n                { opacity: 1, y: 0, duration: 0.8, clearProps: \"all\" }, \n                '-=0.6'\n            );\n        });\n    };\n\n    // --- 4. INTERACTIVE CANVAS (Фон Hero) ---\n    const initHeroCanvas = () => {\n        const canvas = document.getElementById('heroCanvas');\n        if (!canvas) return;\n        const ctx = canvas.getContext('2d');\n        let width, height, particles = [];\n        const mouse = { x: null, y: null, radius: 150 };\n\n        const resize = () => {\n            width = canvas.width = window.innerWidth;\n            height = canvas.height = window.innerHeight;\n            particles = [];\n            const count = width < 768 ? 40 : 100;\n            for (let i = 0; i < count; i++) particles.push(new Particle());\n        };\n\n        class Particle {\n            constructor() {\n                this.x = Math.random() * width;\n                this.y = Math.random() * height;\n                this.size = Math.random() * 2 + 1;\n                this.baseX = this.x;\n                this.baseY = this.y;\n                this.speedX = Math.random() * 0.4 - 0.2;\n                this.speedY = Math.random() * 0.4 - 0.2;\n            }\n            update() {\n                this.x += this.speedX; this.y += this.speedY;\n                if (this.x > width || this.x < 0) this.speedX *= -1;\n                if (this.y > height || this.y < 0) this.speedY *= -1;\n                if (mouse.x) {\n                    let dx = mouse.x - this.x, dy = mouse.y - this.y;\n                    let dist = Math.sqrt(dx * dx + dy * dy);\n                    if (dist < mouse.radius) {\n                        this.x -= dx / 25; this.y -= dy / 25;\n                    }\n                }\n            }\n            draw() {\n                ctx.fillStyle = 'rgba(184, 255, 82, 0.5)';\n                ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();\n            }\n        }\n\n        const animate = () => {\n            ctx.clearRect(0, 0, width, height);\n            particles.forEach(p => { p.update(); p.draw(); });\n            requestAnimationFrame(animate);\n        };\n\n        window.addEventListener('resize', resize);\n        window.addEventListener('mousemove', e => { mouse.x = e.x; mouse.y = e.y; });\n        resize(); animate();\n    };\n\n    // --- 5. SCROLL REVEAL (Общее появление блоков) ---\n    const initScrollReveal = () => {\n        gsap.utils.toArray('.js-reveal').forEach(el => {\n            gsap.to(el, {\n                scrollTrigger: {\n                    trigger: el,\n                    start: \"top 85%\",\n                    toggleActions: \"play none none none\"\n                },\n                opacity: 1, y: 0, duration: 1, ease: \"power3.out\"\n            });\n        });\n\n        // Stagger для сетки преимуществ\n        gsap.from('.benefits-grid .js-reveal', {\n            scrollTrigger: { trigger: '.benefits-grid', start: \"top 80%\" },\n            opacity: 0, y: 40, stagger: 0.15, duration: 1, ease: \"power3.out\"\n        });\n    };\n\n    // --- 6. INNOVATIONS (Sticky Scrub) ---\n    const initInnovations = () => {\n        gsap.utils.toArray('.js-innovation-item').forEach(item => {\n            gsap.from(item, {\n                scrollTrigger: {\n                    trigger: item,\n                    start: \"top 90%\",\n                    scrub: 1\n                },\n                opacity: 0, x: 40, duration: 1\n            });\n        });\n    };\n\n    // --- 7. BLOG SLIDER (Swiper) ---\n    const initBlogSlider = () => {\n        if (document.querySelector('.blog-slider')) {\n            new Swiper('.blog-slider', {\n                slidesPerView: 1, spaceBetween: 20, loop: true,\n                navigation: { nextEl: '.blog__btn--next', prevEl: '.blog__btn--prev' },\n                pagination: { el: '.swiper-pagination', clickable: true },\n                breakpoints: { 640: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } }\n            });\n        }\n    };\n\n    // --- 8. CONTACT FORM & CAPTCHA ---\n    const initContactForm = () => {\n        const form = document.getElementById('contactForm');\n        if (!form) return;\n\n        const phoneInput = document.getElementById('phoneInput');\n        const captchaLabel = document.getElementById('captchaQuestion');\n        const captchaInput = document.getElementById('captchaInput');\n        const successMessage = document.getElementById('contactSuccess');\n\n        let n1 = Math.floor(Math.random() * 10) + 1;\n        let n2 = Math.floor(Math.random() * 10) + 1;\n        let correctSum = n1 + n2;\n        if (captchaLabel) captchaLabel.textContent = `${n1} + ${n2}`;\n\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^\\d+]/g, '');\n        });\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            if (parseInt(captchaInput.value) !== correctSum) {\n                alert('Ошибка капчи! Попробуйте снова.');\n                return;\n            }\n            successMessage.classList.add('active');\n        });\n\n        document.getElementById('closeSuccess')?.addEventListener('click', () => {\n            successMessage.classList.remove('active');\n            form.reset();\n            n1 = Math.floor(Math.random() * 10) + 1;\n            n2 = Math.floor(Math.random() * 10) + 1;\n            correctSum = n1 + n2;\n            captchaLabel.textContent = `${n1} + ${n2}`;\n        });\n    };\n\n    // --- 9. COOKIE POPUP ---\n    const initCookiePopup = () => {\n        const popup = document.getElementById('cookiePopup');\n        if (!popup || localStorage.getItem('cookiesAccepted')) return;\n\n        setTimeout(() => popup.classList.add('active'), 2000);\n        document.getElementById('acceptCookies')?.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            popup.classList.remove('active');\n        });\n    };\n\n    // --- ЗАПУСК ВСЕХ МОДУЛЕЙ ---\n    initHeroCanvas();\n    initHeroAnimation();\n    initScrollReveal();\n    initInnovations();\n    initBlogSlider();\n    initContactForm();\n    initCookiePopup();\n});"],"names":["header","burger","nav","navLinks","toggleMenu","link","initHeroAnimation","splitTitle","splitSubtitle","initHeroCanvas","canvas","ctx","width","height","particles","mouse","resize","count","i","Particle","dx","dy","animate","p","e","initScrollReveal","el","initInnovations","item","initBlogSlider","initContactForm","form","phoneInput","captchaLabel","captchaInput","successMessage","n1","n2","correctSum","_a","initCookiePopup","popup"],"mappings":"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"}